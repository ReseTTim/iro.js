{"version":3,"file":"iro.min.js","sources":["../node_modules/preact/dist/preact.mjs","../src/util/dom.js","../src/ui/component.js","../src/ui/marker.js","../src/ui/wheel.js","../src/modules/color.js","../src/ui/slider.js","../src/modules/stylesheet.js","../src/modules/colorPicker.js","../src/iro.js"],"sourcesContent":["var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","const EVENT_READYSTATE_CHANGE = \"readystatechange\";\nconst READYSTATE_COMPLETE = \"complete\";\n\n/**\n  * @desc listen to one or more events on an element\n  * @param {Element} el target element\n  * @param {Array} eventList the events to listen to\n  * @param {Function} callback the event callback function\n  * @param {Object} params params to pass to addEventListener\n*/\nexport function listen(el, eventList, callback, params={}) {\n  for (var i = 0; i < eventList.length; i++) {\n    el.addEventListener(eventList[i], callback, params);\n  }\n};\n\n/**\n* @desc remove an event listener on an element\n* @param {Element} el target element\n* @param {Array} eventList the events to remove\n* @param {Function} callback the event callback function\n*/\nexport function unlisten(el, eventList, callback) {\n  for (var i = 0; i < eventList.length; i++) {\n    el.removeEventListener(eventList[i], callback);\n  }\n};\n\n/**\n* @desc call fn callback when the page document is ready\n* @param {Function} callback callback function to be called\n*/\nexport function whenReady(callback) {\n  var _this = this;\n  if (document.readyState == READYSTATE_COMPLETE) {\n    callback();\n  }\n  else {\n    listen(document, [EVENT_READYSTATE_CHANGE], function stateChange(e) {\n      if (document.readyState == READYSTATE_COMPLETE) {\n        callback();\n        unlisten(document, [EVENT_READYSTATE_CHANGE], stateChange);\n      }\n    });\n  }\n};","import { Component } from \"preact\";\nimport { listen, unlisten } from \"util/dom\";\n\nconst EVENT_MOUSEDOWN = \"mousedown\",\n      EVENT_MOUSEMOVE = \"mousemove\",\n      EVENT_MOUSEUP = \"mouseup\",\n      EVENT_TOUCHSTART = \"touchstart\",\n      EVENT_TOUCHMOVE = \"touchmove\",\n      EVENT_TOUCHEND = \"touchend\";\n\nexport default class IroComponent extends Component {\n\n  componentDidMount() {\n    if (this.root) listen(this.root, [EVENT_MOUSEDOWN, EVENT_TOUCHSTART], this, { passive:false });\n  }\n\n  componentWillUnmount() {\n    if (this.root) unlisten(this.root, [EVENT_MOUSEDOWN, EVENT_TOUCHSTART], this);\n  }\n\n  handleEvent(e) {\n    const { root } = this;\n    // Detect if the event is a touch event by checking if it has the `touches` property\n    // If it is a touch event, use the first touch input\n    e.preventDefault();\n    var point = e.touches ? e.changedTouches[0] : e;\n    var x = point.clientX;\n    var y = point.clientY;\n    // Get the screen position of the component\n    var rect = root.getBoundingClientRect();\n\n    var hsv;  \n    switch (e.type) {\n      case EVENT_MOUSEDOWN:\n      case EVENT_TOUCHSTART:\n        listen(document, [EVENT_MOUSEMOVE, EVENT_TOUCHMOVE, EVENT_MOUSEUP, EVENT_TOUCHEND], this, { passive:false });\n        hsv = this.input(x, y, rect, \"START\");\n        // parent.emit(\"input:start\", parent.color);\n        break;\n      case EVENT_MOUSEMOVE:\n      case EVENT_TOUCHMOVE:\n        // Use the position to update the picker color\n        hsv = this.input(x, y, rect, \"MOVE\");\n        break;\n      case EVENT_MOUSEUP:\n      case EVENT_TOUCHEND:\n        hsv = this.input(x, y, rect, \"END\");\n        // parent.emit(\"input:end\", parent.color);\n        unlisten(document, [EVENT_MOUSEMOVE, EVENT_TOUCHMOVE, EVENT_MOUSEUP, EVENT_TOUCHEND], this);\n        break;\n    }\n    // if (hsv) parent.color.hsv = hsv;\n  }\n\n  input(x, y, rect, type) {\n\n  }\n\n}","import { h } from \"preact\";\n\nexport default function IroMarker(props) {\n  return (\n    <svg class=\"iro__marker\" x={ props.x } y={ props.y } overflow=\"visible\">\n      <circle \n        class=\"iro__marker__outer\" \n        x={ 0 }\n        y={ 0 }\n        r={ props.r }\n        fill=\"none\"\n        stroke-width={ 5 }\n        stroke=\"#000\"\n        vector-effect=\"non-scaling-stroke\"\n      />\n      <circle \n        class=\"iro__marker__inner\"\n        x={ 0 }\n        y={ 0 }\n        r={ props.r }\n        fill=\"none\"\n        stroke-width={ 7 }\n        stroke=\"#fff\"\n        vector-effect=\"non-scaling-stroke\"\n      />\n    </svg>\n  );\n}\n\nIroMarker.defaultProps = {\n  x: 0,\n  y: 0,\n  r: 8\n};","import { h } from \"preact\";\n\nimport IroComponent from \"ui/component\";\nimport Marker from \"ui/marker\";\n\nfunction arcPath(cx, cy, radius, startAngle, endAngle) {\n  var largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;\n  startAngle *= Math.PI / 180;\n  endAngle *= Math.PI / 180;\n  var x1 = cx + radius * Math.cos(endAngle);\n  var y1 = cy + radius * Math.sin(endAngle);\n  var x2 = cx + radius * Math.cos(startAngle);\n  var y2 = cy + radius * Math.sin(startAngle);\n  return [\"M\", x1, y1, \"A\", radius, radius, 0, largeArcFlag, 0, x2, y2].join(\" \");\n}\n\nexport default class IroWheel extends IroComponent {\n  \n  render(props) {\n\n    const hsv = props.hsv;\n    const markerAngle = (props.anticlockwise ? 360 - hsv.h : hsv.h) * (PI / 180);\n    const markerDist = (hsv.s / 100) * props.rMax;\n    const radius = props.radius;\n    const cX = 50;\n    const cY = 50;\n\n    return (\n      <svg class=\"iro__wheel\" x={ props.x } y={ props.y } ref={ el => this.root = el }>\n        <defs>\n          <radialGradient id=\"iroGradient2\">\n            <stop offset=\"0%\" stop-color=\"#fff\" />\n            <stop offset=\"100%\" stop-color=\"#fff\" stop-opacity={ 0 }/>\n          </radialGradient>\n        </defs>\n        <circle \n          class=\"iro__wheel__border\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"none\"\n          stroke={ props.borderColor }\n          stroke-width={ props.borderWidth }\n          vector-effect=\"non-scaling-stroke\"\n        />\n        <g class=\"__hue\" stroke-width={ radius / 2 } fill=\"none\">\n          {new Array(360).fill(0).map((_, hue) => (\n            <path \n              key={ hue }\n              d={ arcPath(cX, cY, hue, hue + 1.5) } \n              stroke={ `hsl(${ props.anticlockwise ? 360 - hue : hue }, 100%, 50%)` }\n            />\n          ))}\n        </g>\n        <circle \n          class=\"iro__wheel__saturation\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"url(#iroGradient2)\"\n        />\n        <circle \n          class=\"iro__wheel__lightness\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"#000\"\n          opacity={ 1 - hsv.v / 100 }\n        />\n        <Marker \n          r={ markerRadius }\n          x={ cX + markerDist * Math.cos(markerAngle) }\n          y={ cY + markerDist * Math.sin(markerAngle) }\n        />\n      </svg>\n    );\n  }\n\n  /**\n    * @desc Takes a point at (x, y) and returns HSV values based on this input -- use this to update a color from mouse input\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Object} - new HSV color values (some channels may be missing)\n  */\n  input(x, y, rect, type) {\n    var opts = this._opts;\n    var rangeMax = opts.rMax;\n    var cX = rect.width / 2;\n    var cY = rect.height / 2;\n\n    x = cX - (x - rect.left);\n    y = cY - (y - rect.top);\n\n    var angle = Math.atan2(y, x);\n    // Calculate the hue by converting the angle to radians\n    var hue = Math.round(angle * (180 / Math.PI)) + 180;\n    // Find the point's distance from the center of the wheel\n    // This is used to show the saturation level\n    var dist = Math.min(Math.sqrt(x * x + y * y), rangeMax);\n    \n    hue = (opts.anticlockwise ? 360 - hue : hue);\n\n    // Return just the H and S channels, the wheel element doesn't do anything with the L channel\n    return {\n      h: hue,\n      s: Math.round((100 / rangeMax) * dist)\n    };\n  }\n}","var round = Math.round;\nvar floor = Math.floor;\n\n/**\n  * @desc generic parser for hsl / rgb / etc string\n  * @param {String} str - color string\n  * @param {Array} maxValues - max values for each channel (used for calculating percent-based values)\n  * @return {Array} type (rgb | rgba | hsl | hsla) values for each channel\n*/\nfunction parseColorStr(str, maxValues) {\n  var parsed = str.match(/(\\S+)\\((\\d+)(%?)(?:\\D+?)(\\d+)(%?)(?:\\D+?)(\\d+)(%?)(?:\\D+?)?([0-9\\.]+?)?\\)/i),\n      val1 = parseInt(parsed[2]),\n      val2 = parseInt(parsed[4]),\n      val3 = parseInt(parsed[6]);\n  return [\n    parsed[1],\n    parsed[3] == \"%\" ? val1 / 100 * maxValues[0] : val1,\n    parsed[5] == \"%\" ? val2 / 100 * maxValues[1] : val2,\n    parsed[7] == \"%\" ? val3 / 100 * maxValues[2] : val3,\n    parseFloat(parsed[8]) || undefined\n  ];\n};\n\n/**\n  * @desc convert object / string input to color if necessary\n  * @param {Object | String | color} value - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n  * @return {color} color instance\n*/\nfunction getColor(value) {\n  return value instanceof color ? value : new color(value);\n};\n\n/**\n  * @desc clamp value between min and max\n  * @param {Number} value\n  * @param {Number} min\n  * @param {Number} max\n  * @return {Number}\n*/\nfunction clamp(value, min, max) {\n  return value <= min ? min : value >= max ? max : value;\n};\n\n/**\n  * @desc compare values between two objects, returns a object representing changes with true/false values\n  * @param {Object} a\n  * @param {Object} b\n  * @return {Object}\n*/\nfunction compareObjs(a, b) {\n  var changes = {};\n  for (var key in a) changes[key] = b[key] != a[key];\n  return changes;\n};\n\nexport default class color {\n  /**\n    * @constructor color object\n    * @param {Object | String | color} value - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n  */\n  constructor(value) {\n    // The watch callback function for this color will be stored here\n    this._onChange = false;\n    // The default color value\n    this._value = {h: undefined, s: undefined, v: undefined};\n    if (value) this.set(value);\n  }\n\n  /**\n    * @desc mix two colors\n    * @param {Object | String | color} color1 - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Object | String | color} color2 - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} weight - closer to 0 = more color1, closer to 100 = more color2\n    * @return {color} color instance\n  */\n  static mix(color1, color2, weight) {\n    var rgb1 = getColor(color1).rgb,\n        rgb2 = getColor(color2).rgb;\n    weight = clamp((weight / 100 || 0.5), 0, 1);\n    return new color({\n      r: floor(rgb1.r + (rgb2.r - rgb1.r) * weight),\n      g: floor(rgb1.g + (rgb2.g - rgb1.g) * weight),\n      b: floor(rgb1.b + (rgb2.b - rgb1.b) * weight),\n    });\n  }\n\n  /**\n    * @desc lighten color by amount\n    * @param {Object | String | color} color - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} amount\n    * @return {color} color instance\n  */\n  static lighten(color, amount) {\n    var col = getColor(color),\n        hsv = col.hsv;\n    hsv.v = clamp(hsv.v + amount, 0, 100);\n    col.hsv = hsv;\n    return col;\n  }\n\n  /**\n    * @desc darken color by amount\n    * @param {Object | String | color} color - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} amount\n    * @return {color} color instance\n  */\n  static darken(color, amount) {\n    var col = getColor(color),\n        hsv = col.hsv;\n    hsv.v = clamp(hsv.v - amount, 0, 100);\n    col.hsv = hsv;\n    return col;\n  }\n\n  /**\n    * @desc convert hsv object to rgb\n    * @param {Object} hsv - hsv object\n    * @return {Object} rgb object\n  */\n  static hsv2Rgb(hsv) {\n    var r, g, b, i, f, p, q, t;\n    var h = hsv.h/360, s = hsv.s/100, v = hsv.v/100;\n    i = floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0: r = v, g = t, b = p; break;\n      case 1: r = q, g = v, b = p; break;\n      case 2: r = p, g = v, b = t; break;\n      case 3: r = p, g = q, b = v; break;\n      case 4: r = t, g = p, b = v; break;\n      case 5: r = v, g = p, b = q; break;\n    }\n    return {r: round(r * 255), g: round(g * 255), b: round(b * 255)};\n  }\n\n  /**\n    * @desc convert rgb object to hsv\n    * @param {Object} rgb - rgb object\n    * @return {Object} hsv object\n  */\n  static rgb2Hsv(rgb) {\n    // Modified from https://github.com/bgrins/TinyColor/blob/master/tinycolor.js#L446\n    var r = rgb.r / 255,\n        g = rgb.g / 255,\n        b = rgb.b / 255,\n        max = Math.max(r, g, b),\n        min = Math.min(r, g, b),\n        delta = max - min,\n        hue;\n    switch (max) {\n      case min: hue = 0; break;\n      case r: hue = (g - b) / delta + (g < b ? 6 : 0); break;\n      case g: hue = (b - r) / delta + 2; break;\n      case b: hue = (r - g) / delta + 4; break;\n    }\n    hue /= 6;\n    return {\n      h: hue * 360,\n      s: max == 0 ? 0 : (delta / max) * 100,\n      v: max * 100\n    };\n  }\n\n  /**\n    * @desc convert hsv object to hsl\n    * @param {Object} hsv - hsv object\n    * @return {Object} hsl object\n  */\n  static hsv2Hsl(hsv) {\n    var s = hsv.s / 100,\n        v = hsv.v / 100;\n    var l = 0.5 * v * (2 - s);\n    s = v * s / (1 - Math.abs(2 * l - 1));\n    return {\n      h: hsv.h,\n      s: s * 100 || 0,\n      l: l * 100\n    };\n  }\n\n  /**\n    * @desc convert hsl object to hsv\n    * @param {Object} hsl - hsl object\n    * @return {Object} hsv object\n  */\n  static hsl2Hsv(hsl) {\n    var s = hsl.s / 100,\n    l = hsl.l / 100;\n    l *= 2;\n    s *= (l <= 1) ? l : 2 - l;\n    return {\n      h: hsl.h,\n      s: ((2 * s) / (l + s)) * 100,\n      v: ((l + s) / 2) * 100\n    };\n  }\n\n  /**\n    * @desc convert hsl object to string\n    * @param {Object} hsl - hsl object\n    * @return {Object} hsl string\n  */\n  static hsl2Str(hsl) {\n    return \"hsl\" + (hsl.a ? \"a\" : \"\") + \"(\" + hsl.h + \", \" + hsl.s + \"%, \" + hsl.l + \"%\" + (hsl.a ? \", \" + hsl.a : \"\") + \")\";\n  }\n\n  /**\n    * @desc convert rgb object to string\n    * @param {Object} rgb - rgb object\n    * @return {Object} rgb string\n  */\n  static rgb2Str(rgb) {\n    return \"rgb\" + (rgb.a ? \"a\" : \"\") + \"(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + (rgb.a ? \", \" + rgb.a : \"\") + \")\";\n  }\n\n  /**\n    * @desc convert rgb object to hex string\n    * @param {Object} rgb - rgb object\n    * @return {Object} hex string\n  */\n  static rgb2Hex(rgb) {\n    var str = \"#\";\n    str += rgb.r.toString(16).padStart(2, \"0\");\n    str += rgb.g.toString(16).padStart(2, \"0\");\n    str += rgb.b.toString(16).padStart(2, \"0\");\n    return str;\n  }\n\n  /**\n    * @desc parse hex string\n    * @param {String} str - color string\n    * @return {Object} rgb object\n  */\n  static parseHexStr(hex) {\n    // Strip any \"#\" characters\n    hex = hex.replace(\"#\", \"\");\n    // Prefix the hex string with \"0x\" which indicates a number in hex notation, then convert to an integer\n    var int = parseInt(\"0x\" + hex),\n        // If the length of the input is only 3, then it is a shorthand hex color\n        isShorthand = hex.length == 3,\n        // bitMask for isolating each channel\n        bitMask = isShorthand ? 0xF : 0xFF,\n        // bitLength of each channel (for example, F is 4 bits long while FF is 8 bits long)\n        bitLength = isShorthand ? 4 : 8,\n        // If we're using shorthand notation, multiply each channel by 17\n        multiplier = isShorthand ? 17 : 1;\n    return {\n      r: ((int >> (bitLength * 2)) & bitMask) * multiplier,\n      g: ((int >> bitLength) & bitMask) * multiplier,\n      b: (int & bitMask) * multiplier,\n    };\n  }\n\n  /**\n    * @desc parse hsl string\n    * @param {String} str - color string\n    * @return {Object} hsl object\n  */\n  static parseHslStr(str) {\n    var parsed = parseColorStr(str, [360, 100, 100]);\n    return {\n      h: parsed[2],\n      s: parsed[3],\n      l: parsed[4]\n    };\n  }\n\n  /**\n    * @desc parse rgb string\n    * @param {String} str - color string\n    * @return {Object} rgb object\n  */\n  static parseRgbStr(str) {\n    var parsed = parseColorStr(str, [255, 255, 255]);\n    return {\n      r: parsed[1],\n      g: parsed[2],\n      b: parsed[3]\n    };\n  }\n\n  get hsv() {\n    // _value is cloned to allow changes to be made to the values before passing them back\n    var v = this._value;\n    return {h: v.h, s: v.s, v: v.v};\n  }\n\n  set hsv(newValue) {\n    // If this color is being watched for changes we need to compare the new and old values to check the difference\n    // Otherwise we can just be lazy\n    if (this._onChange) {\n      var oldValue = this._value;\n      for (var channel in oldValue) {\n        if (!newValue.hasOwnProperty(channel)) newValue[channel] = oldValue[channel];\n      }\n      var changes = compareObjs(oldValue, newValue);\n      // Update the old value\n      this._value = newValue;\n      // If the value has changed, call hook callback\n      if (changes.h || changes.s || changes.v) this._onChange(this, changes);\n    } else {\n      this._value = newValue;\n    }\n  }\n\n  get rgb() {\n    var rgb = color.hsv2Rgb(this._value);\n    return {\n      r: round(rgb.r),\n      g: round(rgb.g),\n      b: round(rgb.b),\n    };\n  }\n\n  set rgb(value) {\n    this.hsv = color.rgb2Hsv(value);\n  }\n\n  get hsl() {\n    var hsl = color.hsv2Hsl(this._value);\n    return {\n      h: round(hsl.h),\n      s: round(hsl.s),\n      l: round(hsl.l),\n    };\n  }\n\n  set hsl(value) {\n    this.hsv = color.hsl2Hsv(value);\n  }\n\n  get rgbString() {\n    return color.rgb2Str(this.rgb);\n  }\n\n  set rgbString(value) {\n    this.rgb = color.parseRgbStr(value);\n  }\n\n  get hexString() {\n    return color.rgb2Hex(this.rgb);\n  }\n\n  set hexString(value) {\n    this.rgb = color.parseHexStr(value);\n  }\n\n  get hslString() {\n    return color.hsl2Str(this.hsl);\n  }\n\n  set hslString(value) {\n    this.hsl = color.parseHslStr(value);\n  }\n\n  /**\n    * @desc set the color from any valid value\n    * @param {Object | String | color} value - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n  */\n  set(value) {\n    if (typeof value == \"object\") {\n      if (value instanceof color) {\n        this.hsv = color.hsv;\n      } else if (\"r\" in value) {\n        this.rgb = value;\n      } else if (\"v\" in value) {\n        this.hsv = value;\n      } else if (\"l\" in value) {\n        this.hsl = value;\n      }\n    } else if (typeof value == \"string\") {\n      if (/^rgb/.test(value)) {\n        this.rgbString = value;\n      } else if (/^hsl/.test(value)) {\n        this.hslString = value;\n      } else if (/^#[0-9A-Fa-f]/.test(value)) {\n        this.hexString = value;\n      }\n    }\n  }\n\n  /**\n    * @desc shortcut to set a specific channel value\n    * @param {String} model - hsv | hsl | rgb\n    * @param {String} channel - individual channel to set, for example if model = hsl, chanel = h | s | l\n    * @param {Number} value - new value for the channel\n  */\n  setChannel(model, channel, value) {\n    var v = this[model];\n    v[channel] = value;\n    this[model] = v;\n  }\n\n  /**\n    * @desc make new color instance with the same value as this one\n    * @return {color}\n  */\n  clone() {\n    return new color(this);\n  }\n\n  /**\n    * @desc compare this color against another, returns a object representing changes with true/false values\n    * @param {Object | String | color} color - color to compare against\n    * @param {String} model - hsv | hsl | rgb\n    * @return {Object}\n  */\n  compare(color, model) {\n    model = model || \"hsv\";\n    return compareObjs(this[model], getColor(color)[model]);\n  }\n\n  /**\n    * @desc mix a color into this one\n    * @param {Object | String | color} color - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} weight - closer to 0 = more current color, closer to 100 = more new color\n  */\n  mix(color, weight) {\n    this.hsv = mix(this, color, weight).hsv;\n  }\n\n  /**\n    * @desc lighten color by amount\n    * @param {Number} amount\n  */\n  lighten(amount) {\n    lighten(this, amount);\n  }\n\n  /**\n    * @desc darken color by amount\n    * @param {Number} amount\n  */\n  darken(amount) {\n    darken(this, amount);\n  }\n}","import { h } from \"preact\";\n\nimport IroComponent from \"ui/component\";\nimport Marker from \"ui/marker\";\n\nimport iroColor from \"modules/color\";\n\nexport default class IroSlider extends IroComponent {\n\n  render(props) {\n\n    const width = 300;\n    const height = props.sliderHeight;\n    const hsv = props.hsv;\n    const hsl = iroColor.hsv2Hsl({h: hsv.h, s: hsv.s, v: 100});\n\n    return (\n      <svg class=\"iro__slider\" x={ props.x } y={ props.y } ref={ el => this.root = el }>\n        <defs>\n          <linearGradient id=\"iroGradient1\">\n            <stop offset=\"0%\" stop-color=\"#000\" />\n            <stop offset=\"100%\" stop-color={ `hsl(${hsl.h}, ${hsl.s}%, ${hsl.v}%)` } />\n          </linearGradient>\n        </defs>\n        <rect \n          class=\"iro__slider__value\"\n          rx={ height / 2 } \n          ry={ height / 2 } \n          x={ 0 } \n          y={ 0 } \n          width={ width } \n          height={ height }\n          stroke-width={ props.borderWidth }\n          stroke={ props.borderColor }\n          fill=\"url(#iroGradient1)\"\n          vectorEffect=\"non-scaling-stroke\"\n        />\n        <Marker \n          r={ markerRadius }\n          x={ (hsv.v / 100) * width }\n          y={ height / 2 }\n        />\n      </svg>\n    );\n  }\n\n  /**\n    * @desc Takes a point at (x, y) and returns HSV values based on this input -- use this to update a color from mouse input\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Object} - new HSV color values (some channels may be missing)\n  */\n  input(x, y, rect, type) {\n    x = x - rect.left;\n    y = y - rect.top;\n    var opts = this._opts;\n    var range = opts.range;\n    var dist = Math.max(Math.min(x, range.max), range.min) - range.min;\n    return {\n      v: Math.round((100 / range.w) * dist),\n    };\n  }\n}","\nexport default class stylesheet {\n  /**\n    @constructor stylesheet writer\n  */\n  constructor() {\n    // Create a new style element\n    let style = document.createElement(\"style\");\n    document.head.appendChild(style);\n    // Webkit apparently requires a text node to be inserted into the style element\n    // (according to https://davidwalsh.name/add-rules-stylesheets)\n    style.appendChild(document.createTextNode(\"\"));\n    this.style = style;\n    // Create a reference to the style element's CSSStyleSheet object\n    // CSSStyleSheet API: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet\n    let sheet = style.sheet;\n    this.sheet = sheet;\n    // Get a reference to the sheet's CSSRuleList object\n    // CSSRuleList API: https://developer.mozilla.org/en-US/docs/Web/API/CSSRuleList\n    this.rules = sheet.rules || sheet.cssRules;\n    // We'll store references to all the CSSStyleDeclaration objects that we change here, keyed by the CSS selector they belong to\n    // CSSStyleDeclaration API: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n    this.map = {};\n  }\n\n  get enabled() {\n    return !this.sheet.disabled;\n  }\n\n  set enabled(value) {\n    this.sheet.disabled = !value;\n  }\n\n  // TODO: consider removing cssText + css properties since i don't tink they're that useful\n  get cssText() {\n    var map = this.map;\n    var ret = [];\n    for (var selector in map) {\n      ret.push(selector.replace(/,\\W/g, \",\\n\") + \" {\\n\\t\" + map[selector].cssText.replace(/;\\W/g, \";\\n\\t\") + \"\\n}\");\n    }\n    return ret.join(\"\\n\");\n  }\n  \n  get css() {\n    var map = this.map;\n    var ret = {};\n    for (var selector in map) {\n      var ruleSet = map[selector];\n      ret[selector] = {};\n      for (var i = 0; i < ruleSet.length; i++) {\n        var property = ruleSet[i];\n        ret[selector][property] = ruleSet.getPropertyValue(property);\n      }\n    }\n    return ret;\n  }\n\n  /**\n    * @desc Set a specific rule for a given selector\n    * @param {String} selector - the CSS selector for this rule (e.g. \"body\", \".class\", \"#id\")\n    * @param {String} property - the CSS property to set (e.g. \"background-color\", \"font-family\", \"z-index\")\n    * @param {String} value    - the new value for the rule (e.g. \"rgb(255, 255, 255)\", \"Helvetica\", \"99\")\n  */\n  setRule(selector, property, value) {\n    var sheet = this.sheet;\n    var rules = sheet.rules || sheet.cssRules;\n    var map = this.map;\n    // Convert property from camelCase to snake-case\n    property = property.replace(/([A-Z])/g, function($1) {\n      return \"-\" + $1.toLowerCase();\n    });\n    if (!map.hasOwnProperty(selector)) {\n      // If the selector hasn't been used yet we want to insert the rule at the end of the CSSRuleList, so we use its length as the index value\n      var index = rules.length;\n      // Prepare the rule declaration text, since both insertRule and addRule take this format\n      var declaration = property + \": \" + value;\n      // Insert the new rule into the stylesheet\n      try {\n        // Some browsers only support insertRule, others only support addRule, so we have to use both\n        sheet.insertRule(selector + \" {\" + declaration + \";}\", index);\n      } catch(e) {\n        sheet.addRule(selector, declaration, index);\n      } finally {\n        // Because safari is perhaps the worst browser in all of history, we have to remind it to keep the sheet rules up-to-date\n        rules = sheet.rules || sheet.cssRules;\n        // Add our newly inserted rule's CSSStyleDeclaration object to the internal map\n        map[selector] = rules[index].style;\n      }\n    }\n    else {\n      map[selector].setProperty(property, value);\n    }\n  }\n}","import { h, Component } from \"preact\";\n\nimport IroWheel from \"ui/wheel\";\nimport IroSlider from \"ui/slider\";\n\nimport iroColor from \"modules/color\";\nimport iroStyleSheet from \"modules/stylesheet\";\n\n// import { whenReady } from \"util/dom\";\n\nexport default class ColorPicker extends Component {\n\n  constructor(props) {\n    super(props);\n    this._events = {};\n    this._colorChangeActive = false;\n    this.css = props.css || props.styles || undefined;\n    this.color = new iroColor(props.color);\n    this.state = {\n      hsv: this.color.hsv\n    };\n  }\n\n  componentDidMount() {\n    // Create an iroStyleSheet for this colorWheel's CSS overrides\n    this.stylesheet = new iroStyleSheet();\n    this.emit(\"mount\", this);\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  /**\n    * @desc update the selected color\n    * @param {Object} hsv - new hsv value\n    * @access protected\n  */\n  setHsv(hsv, changes) {\n    this.color.hsv = hsv;\n    this.setState({ hsv });\n\n    var rgb = this.color.rgbString;\n    var css = this.css;\n\n    for (var selector in css) {\n      var properties = css[selector];\n      for (var prop in properties) {\n        this.stylesheet.setRule(selector, prop, rgb);\n      }\n    } \n    // Prevent infinite loops if the color is set inside a `color:change` callback\n    if (!this._colorChangeActive) {\n      // While _colorChangeActive = true, this event cannot be fired\n      this._colorChangeActive = true;\n      this.emit(\"color:change\", this.color);\n      this._colorChangeActive = false;\n    }\n  }\n\n  /**\n    * @desc Set a callback function for an event\n    * @param {String} eventType Name of the event to listen to, pass \"*\" to listen to all events\n    * @param {Function} callback Event callback\n  */\n  on(eventType, callback) {\n    var events = this._events;\n    (events[eventType] || (events[eventType] = [])).push(callback);\n  }\n\n  /**\n    * @desc Remove a callback function for an event added with on()\n    * @param {String} eventType The name of the event\n    * @param {Function} callback The watch callback to remove from the event\n  */\n  off(eventType, callback) {\n    var eventList = this._events[eventType];\n    if (eventList) eventList.splice(eventList.indexOf(callback), 1);\n  }\n\n  /**\n    * @desc Emit an event\n    * @param {String} eventType The name of the event to emit\n    * @param {Array} args array of args to pass to callbacks\n  */\n  emit(eventType, ...args) {\n    var events = this._events,\n        callbackList = (events[eventType] || []).concat((events[\"*\"] || []));\n    for (var i = 0; i < callbackList.length; i++) {\n      callbackList[i].apply(null, args); \n    }\n  }\n\n  render(props, state) {\n    <svg \n      class=\"iro__svg\"\n      width={ props.width } \n      height={ props.height } \n      viewBox={`0 0 ${ props.width } ${ props.height }`}\n      style={{\n        \"display\": props.display || \"block\",\n        \"touch-action\": \"none\"\n      }}\n      ref={ el => this.el = el }\n    >\n      <IroWheel hsv={ state.hsv } />\n      <IroSlider hsv={ state.hsv } />\n    </svg>\n  }\n}","import colorPicker from \"modules/colorPicker\";\nimport color from \"modules/color\";\nimport stylesheet from \"modules/stylesheet\";\n\nexport default {\n  Color: color,\n  ColorPicker: colorPicker,\n  Stylesheet: stylesheet,\n  version: process.env.VERSION,\n};\n"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","i","children","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","defer","Promise","resolve","then","bind","setTimeout","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","list","renderComponent","isNamedNode","node","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","removeNode","parentNode","removeChild","setAccessor","name","old","value","isSvg","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","this","type","event","mounts","diffLevel","isSvgMode","hydrating","flushMounts","c","afterMount","componentDidMount","idiff","dom","context","mountAll","componentRoot","out","prevSvgMode","splitText","_component","nodeValue","document","createTextNode","replaceChild","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","base","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","createElement","firstChild","appendChild","fc","vchildren","a","nextSibling","isHydrating","j","f","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","trim","insertBefore","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","recyclerComponents","Ctor","inst","prototype","render","Component","call","doRender","splice","state","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","parent","ownerSVGElement","ret","diff","baseParent","componentRef","t","unshift","componentDidUpdate","afterUpdate","_renderCallbacks","beforeUnmount","componentWillUnmount","inner","listen","el","eventList","callback","params","unlisten","setState","forceUpdate","const","IroComponent","root","passive","handleEvent","preventDefault","point","touches","changedTouches","x","clientX","y","clientY","rect","getBoundingClientRect","input","IroMarker","class","overflow","r","fill","stroke","IroWheel","hsv","markerAngle","anticlockwise","PI","markerDist","s","rMax","radius","id","offset","cx","cy","borderColor","borderWidth","Array","map","_","hue","d","startAngle","largeArcFlag","endAngle","Math","cos","sin","join","opacity","v","Marker","markerRadius","opts","_opts","rangeMax","cX","width","cY","height","left","top","angle","atan2","round","dist","sqrt","floor","parseColorStr","str","maxValues","parsed","match","val1","parseInt","val2","val3","parseFloat","getColor","color","clamp","max","compareObjs","b","changes","_onChange","_value","set","mix","color1","color2","weight","rgb1","rgb","rgb2","g","lighten","amount","col","darken","hsv2Rgb","q","rgb2Hsv","delta","hsv2Hsl","l","abs","hsl2Hsv","hsl","hsl2Str","rgb2Str","rgb2Hex","toString","padStart","parseHexStr","hex","int","isShorthand","bitLength","bitMask","multiplier","parseHslStr","parseRgbStr","prototypeAccessors","newValue","oldValue","channel","hasOwnProperty","rgbString","hexString","hslString","setChannel","model","clone","compare","IroSlider","sliderHeight","iroColor","rx","ry","vectorEffect","range","w","stylesheet","head","sheet","rules","cssRules","enabled","disabled","selector","css","ruleSet","property","getPropertyValue","setRule","$1","setProperty","index","declaration","insertRule","addRule","ColorPicker","_events","_colorChangeActive","styles","iroStyleSheet","emit","setHsv","properties","prop","on","eventType","events","off","indexOf","callbackList","concat","apply","args","viewBox","display","Color","colorPicker","Stylesheet","version","process"],"mappings":"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"}